{% extends "notebook.html" %}

{% block style_base %}
    <!-- General and theme style sheets -->
    <link rel="stylesheet" href="/static/components/reveal.js/css/reveal.css">
    <link rel="stylesheet" href="/static/components/reveal.js/css/theme/simple.css" id="theme">

    <!-- For syntax highlighting -->
    <link rel="stylesheet" href="/static/components/reveal.js/lib/css/zenburn.css">

    <!-- If the query includes 'print-pdf', use the PDF print sheet -->
    <script>
        document.write( '<link rel="stylesheet" href="/static/components/reveal.js/css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
    </script>

    <!--[if lt IE 9]>
    <script src="/static/components/reveal.js/lib/js/html5shiv.js"></script>
    <![endif]-->

    {{ super() }}
    
    <style type="text/css">
        /* Overrides of notebook CSS for static HTML export */
        body {
          overflow-x: hidden;
          /* overflow-y modified at reveal.css */
          line-height: inherit;
        }
        .reveal {
          font-size: 160%;
        }
        .reveal pre {
          width: inherit;
          padding: 0.4em;
          margin: 0px;
          font-family: monospace, sans-serif;
          font-size: 80%;
          box-shadow: 0px 0px 0px rgba(0, 0, 0, 0);
        }
        .reveal section img {
          border: 0px solid black;
          box-shadow: 0 0 10px rgba(0, 0, 0, 0);
        }
        .reveal i {
          font-style: normal;
          font-family: FontAwesome;
          font-size: 2em;
        }
        .reveal .slides {
          text-align: left;
        }
        .reveal.fade {
          opacity: 1;
        }
        div.input_area {
          padding: 0.06em;
        }
        div.code_cell {
          background-color: transparent;
        }
        div.prompt {
          width: 11ex;
          padding: 0.4em;
          margin: 0px;
          font-family: monospace, sans-serif;
          font-size: 80%;
          text-align: right;
        }
        div.output_area pre {
          font-family: monospace, sans-serif;
          font-size: 80%;
        }
        div.output_prompt {
          /* 5px right shift to account for margin in parent container */
          margin: 5px 5px 0 0;
        }
        .rendered_html p {
          text-align: inherit;
        }
        .container {
          height: inherit;
        }
        .footer{
          display: none;
        }
        #menubar{
          font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
          font-size: 14px;
        }
    </style>
{% endblock %}


{% block style_media %}
    <style type="text/css" media='screen and (min-width:980px)'>
        .navbar-inner {
            opacity: 0.5;
            transition: opacity 0.5s ease-in-out;
            -webkit-transition: opacity 0.5s ease-in-out;
        }
    </style>
    {{ super() }}
{% endblock %}


{% block menu_extra %}
    <div class="container">{{ link_breadcrumbs(breadcrumbs) }}</div>
{% endblock %}


{% block body %}
    {{ body | safe}}
    
    <script src="/static/components/reveal.js/lib/js/head.min.js"></script>
    <script src="/static/components/reveal.js/js/reveal.js"></script>
    
    <script>
        // Full list of configuration options available here: https://github.com/hakimel/reveal.js#configuration
        Reveal.initialize({
            controls: true,
            progress: true,
            history: true,
            
            // available themes are in /css/theme
            theme: Reveal.getQueryHash().theme,
            // default/cube/page/concave/zoom/linear/none
            transition: Reveal.getQueryHash().transition || 'linear', 

            //minScale: 1,
            //maxScale: 1,
    
            // Optional libraries used to extend on reveal.js
            dependencies: [
                {src: "/static/components/reveal.js/lib/js/classList.js",
                    condition: function() { return !document.body.classList; }},
                {src: "/static/components/reveal.js/plugin/highlight/highlight.js", async: true,
                    callback: function() { hljs.initHighlightingOnLoad(); }},
                {src: "/static/components/reveal.js/plugin/notes/notes.js", async: true,
                    condition: function() { return !!document.body.classList; }}
            ]
        });
    </script>
    
    <!-- MathJax configuration -->
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"] ],
            displayMath: [ ['$$','$$'], ["\\[","\\]"] ]
          },
          displayAlign: 'left', // Change this to 'center' to center equations.
          "HTML-CSS": {
            styles: {'.MathJax_Display': {"margin": 0}}
          }
        });
    </script>
    <!-- End of mathjax configuration -->
    
    <script>
        //  We wait for the onload function to load MathJax after the page is completely loaded.
        //  MathJax is loaded 1 unit of time after the page is ready.
        //  This hack prevent problems when you load multiple js files.
        $(function(){
            $.getScript("{% block mathjax_url -%}{{ super() }}{% endblock %}");
        });
    </script>
    
    <script>
        Reveal.addEventListener('slidechanged', function(event){
            window.scrollTo(0,0);
            MathJax.Hub.Rerender(event.currentSlide);
            var idx = Reveal.getIndices();
            console.log(idx);
            if(!idx.h && !idx.v){
                $("#menubar").headroom("pin");
            }else{
                $("#menubar").headroom("unpin");
            }
        });
    </script>
{% endblock %}